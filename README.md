# Java

## Ch5. 참조타입

### 데이터 타입
- 기본 타입
	- 정수
	- 실수
	- 문자
	- 논리 리터럴

- 참조 타입
	- 배열
	- 열거
	- 클래스
	- 인터페이스

### 메모리 사용 영역

#### 메소드 영역

메소드 영역에는 코드에서 사용되는 classe들을 클래스 로더로 읽어 클래스별로 런타임 상수풀, 필드 데이터, 메소드 데이터, 메소드 코드, 새ㅐㅇ성자 코드 등을 분류해서 저장한다. 메소드 영역은 ___JVM이 시작할 때 생성되고 모든 스레드가 공유하는 영역이다.___

#### 힙 영역

힙 영역은 객체와 배열이 생성되는 영역이다. 힙 영역에 생성된 객체와 배열은 JVM스택 영역의 변수나 다른 객체의 필드에서 참조한다.
참조하는 변수나 필드가 없다면 의미 없는 개체가 되기 때문에 이것을 쓰레기로 취급하고 garbage collector를 실행시켜 쓰레기 객체를 힙 영역에서 자동으로 제거한다.

#### JVM 스택 영역

JVM 스택 영역은 각 스레드마다 하나씩 존재하며 스레드가 시작될 때 할당 된다. 자바 프로그램에서 추가적으로 스레드를 생성하지 않았다면 main 스레드만 존재하므로 JVM 스택도 하나이다. 
프레임 내부에는 로컬 변수 스택이 있는데, 기본 타입 변수와 참조 타입 변수가 추가되거나 제거된다. 변수가 이 영역에 생성되는 시점은 초기화가 될때, 즉 최초로 변수에 값이 저장될 떄이다. 변수는 선언된 블록 안에서만 스택에 존재하고 블록을 벗어나면 스택에서 제거된다.

__기본타입 변수는 스택 영역에 직접 값을 가지고 있지만, 참조 타입 변수는 값이 아니라 힙 영역이나 메소드 영역의 객체 주소를 가진다.__
참고로 자바에서는 배열을 객체로 취급한다.

```
        String name1 = "신용권";
        String name2 = "신용권";
        if (name1 == name2) {
            System.out.println("Same");
        }else{
            System.out.println("Different");
        }
```
일반적으로 String 변수에 저장한다는 표현을 사용한다. 자바는 문자열 리터럴이 동일하다면 String 객체를 공유하도록 되어있다. 일반적으로 변수에 문자열을 저장할 경우에는 문자열 리터럴을 사용하지만, new 연산자를 사용해서 직접 String 객체를 생성시킬 수도 있다. new 연산자는 힙영역에 새로운 객체를 만들 때 사용하는 연산자로 객체 생성 연산자라고 한다.

```
	String name1 = new "이현동";
	String name2 = new "이현동";
```

이렇게 작성을하면 서로 다른 String 객체를 참조한다.

### 배열 타입

#### 배열이란?
변수는 한 개의 데이터만 저장할 수 있다. 따라서 저장해야 할 데이터의 수가 많아지면 그만큼 많은 변수가 필요하다.

__배열 선언__
```
타입[] 변수;
타입 변수[];
```
두 가지 방법으로 배열 변수를 선언한다.

```
int[] intArray; int inArray[];
double[] doubleArray; double doubleArray[];
String[] strArray; String stringArray[];
```



